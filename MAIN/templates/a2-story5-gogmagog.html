{% extends 'base.html' %}
{% load static %}
  {% block title %}
    <title>Gog and Magog</title>
    <link rel="stylesheet" href="{% static 'css\main.css' %}">
    <link rel="stylesheet" href="{% static 'css\nav.css' %}">
    <link rel="stylesheet" href="{% static 'css\scroll.css' %}">
    <link rel="stylesheet" href="{% static 'css\forum.css' %}">
    <link rel="stylesheet" href="{% static 'css\storycontent.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
       .sidenav{
    width: 200px;
    position: fixed;
    height: 100%;
    left: 0;
    top: 806px;
    z-index: 2;
    overflow-x: hidden;
  }
  .sidenav a{
    padding: 10px 0px 10px 30px;
    text-decoration: none;
    font-size: 14px;
    color: #38444d;
    display: block;
  }
  .sidenav a:hover{
    color: #004085;
  }
  .story1{ 
    padding: 50px 150px 100px 60px;
    margin-left: 200px;
    align-items: center;
    text-align: justify;
  }
  .story1 .h4{
    text-align: center;
  }
  .story1 .p{
    text-align: justify;
  }

  hr .line{
    border: 0;
    height: 2px;
    width: 100%;
    margin: 15px 0 10px;
  }
.toggle-story {
  display: none;
}
  /* Adjustments for mobile view */
  @media screen and (max-width: 768px) {
    .sidenav {
      display: none;
    }
  /* Adjust content padding to not overlap with the sidenav */
  .story1 {
    padding: 20px;
    margin-bottom: 60px; /* Add space at the bottom for sidenav */
    margin-left: 0;
  }
}
@media screen and (max-width: 768px) {
    .nav-to-right, .nav-line{
      margin-left: 20px;
    }
    .nav-link{
      margin-left: 20px;
      margin-right: 0;
    }
  }
    </style>
    {% endblock title %}
    {% block content %}  
<!--nav link-->
<div class="nav-link">
  <div class="nav-link-content">
    <a href="{% url 'home' %}"><i class="fa-solid fa-house"></i></a>
    <i class="fa-solid fa-chevron-right"></i>
    <p> <a href="{% url 'story' %}"> Story </a><span><i class="fa-solid fa-chevron-right"></i></span> Gog and Magog</p>
  </div> 
</div>
<hr class ="nav-line">
<br>
<!--bookmark and comment-->
<div class="nav-to-right">
  <div class="nav-to-right-content">
    <p><i class="fa-regular fa-bookmark fa-2x" onclick="toggleBookmark(this, 'Story-Gog-and-Magog')" data-slug="Story-Gog-and-Magog"></i></p>
    <button onclick="on()">See Discussion <i class="fa-regular fa-comment"></i></button>
  </div>
</div>

 <!--Forum Section-->
<div class="overlay" id="overlay">
    <div class="container">
        <div class="close">
            <div class="close-button">
                <i class="fas fa-times" onclick="off()"></i>
            </div>         
            <div class="subforum">
  
            {% if user.is_authenticated %}
              <div class ="create-post">
                <button style="color:#38444d"><a href="{% url 'create_post' %}">Create Post</a></button>
              </div>
            {% endif %}
  
            <div class="subforum-title">
                <h1>Forum</h1>
            </div>
  
            {% for forum in forums %}
            <div class="subforum-row">
                <!--<div class="subforum-icon subforum-column center">
                    <i class="fas fa-user"></i>
                </div>-->
                <div class="subforum-description subforum-column">
                    <h1><a href="{{forum.get_url}}">{{forum.title}}</a></h1>
                    <p>{{forum.description}}</p>
                </div>
                <div class="subforum-stats subforum-column center">
                    <span>{{forum.num_posts}} Posts</span>
                </div>
                <div class="subforum-info subforum-column">
                    <b><a href="{{forum.last_post.get_url}}">Last Post</a></b> by <a href="">{{forum.last_post.user.fullname|title}}</a>
                    <br>
                    on <small>{{forum.last_post.created_at|date:"F d, Y H:i"}}</small>
                </div>
            </div>
            {% endfor %}
  
        </div>
  
    </div>
  
     <!-- Forum Info -->
  <div class="forum-info">
    <div class="chart">
        Forum Statistic &nbsp;<i class="fa fa-bar-chart"></i>
    </div>
    <span><u>{{num_posts}}</u> Posts in <u>{{num_categories}}</u> Categories by <u>{{num_users}}</u> Members.</span><br>
    {% if forums %}
        <span>Latest post: <b><a href="{{last_post.get_url}}">{{last_post.title}}</a></b> on {{last_post.date|date}} By <a href="">{{last_post.user.fullname|title}}</a></span>.<br>
        <span>Check <a href="{% url 'latest_posts' %}">the latest posts</a> .</span><br>
    {% endif %}
  </div>
  
  <script src="{% static 'js/trialforum.js' %}"></script>           
  
  </div>
  </div>
  <!--ends forum-->

<!--image content parallax-->
<div class="parallax" style="background-image:linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.5)), url(https://upload.wikimedia.org/wikipedia/commons/4/49/Wauquelin-histoire-bnf-fr9342-fol131v-peuple-de-gog-et-magog.jpg);">
  <h1>Gog and Magog</h1>
</div>

<div class="sidenav"> 
  <ul>
    <a href="#intro">Introduction to Gog and Magog</a>
    <a href="#dhul-qarnain-barrier">Dhul-Qarnain's Barrier</a>
    <a href="#nature-origin-gog-magog">Nature and Origin of Gog and Magog</a>
    <a href="#eschatological-role-gog-magog">Eschatological Role of Gog and Magog</a>
    <a href="#barrier-condition">The Barrier's Condition</a>
    <a href="#scholarly-interpretations-gog-magog">Scholarly Interpretations and Views</a>
    <a href="#ref">References</a>
  </ul>
</div>
      <div class="story1">

        <h4 id="intro">Introduction to Gog and Magog</h4><br>
        <p>قَالُوا۟ يَـٰذَا ٱلْقَرْنَيْنِ إِنَّ يَأْجُوجَ وَمَأْجُوجَ مُفْسِدُونَ فِى ٱلْأَرْضِ فَهَلْ نَجْعَلُ لَكَ خَرْجًا عَلَىٰٓ أَن تَجْعَلَ بَيْنَنَا وَبَيْنَهُمْ سَدًّۭا ٩٤ قَالَ مَا مَكَّنِّى فِيهِ رَبِّى خَيْرٌۭ فَأَعِينُونِى بِقُوَّةٍ أَجْعَلْ بَيْنَكُمْ وَبَيْنَهُمْ رَدْمًا ٩٥ ءَاتُونِى زُبَرَ ٱلْحَدِيدِ ۖ حَتَّىٰٓ إِذَا سَاوَىٰ بَيْنَ ٱلصَّدَفَيْنِ قَالَ ٱنفُخُوا۟ ۖ حَتَّىٰٓ إِذَا جَعَلَهُۥ نَارًۭا قَالَ ءَاتُونِىٓ أُفْرِغْ عَلَيْهِ قِطْرًۭا ٩٦ فَمَا ٱسْطَـٰعُوٓا۟ أَن يَظْهَرُوهُ وَمَا ٱسْتَطَـٰعُوا۟ لَهُۥ نَقْبًۭا ٩٧ قَالَ هَـٰذَا رَحْمَةٌۭ مِّن رَّبِّى ۖ فَإِذَا جَآءَ وَعْدُ رَبِّى جَعَلَهُۥ دَكَّآءَ ۖ وَكَانَ وَعْدُ رَبِّى حَقًّۭا ٩٨</p>
        <br>
        <p>Allah the Almighty says: {They said: "0 Dhul-Qarnain! Verily Ya'juj and Ma 'juj (Gog and Magog) are doing great mischief in the land. Shall we then pay you a tribute in order that you might erect a barrier between us and them?" He said: "That (wealth, authority and power) in which my Lord had established me is better (than your tribute). So help me with strength (of men), I will erect between you and them a barrier. "Give me pieces (blocks) of iron;" then, when he had filled up the gap between the two mountain-cliffs, he said: "Blow;" then when he had made them (red as) fire, he said: "Bring me molten copper to pour over them." So they (Ya 'juj and Ma 'juj (Gog and Magog)] could not scale it or dig through it. (Dhul-Qarnain) said: "This is a mercy from my Lord, but when the Promise of my Lord comes, He shall level it down to the ground. And the Promise of my Lord is ever true"}. (Al-Kahf, 94-98)</p>
        <br>
        <hr class ="line"><br>
        <h4 id="dhul-qarnain-barrier">Dhul-Qarnain's Barrier</h4><br>
        <p>حَتَّىٰٓ إِذَا فُتِحَتْ يَأْجُوجُ وَمَأْجُوجُ وَهُم مِّن كُلِّ حَدَبٍۢ يَنسِلُونَ ٩٦</p>
        <br>
        <p>And, {Until, when Ya'juj and Ma'juj (Gog and Magog) are let loose (from their barrier), and they swoop downfrom every mound}. (Al- Anbiya', 96)</p>
        <br>
        <hr class ="line"><br>
        <h4 id="nature-origin-gog-magog">Nature and Origin of Gog and Magog</h4><br>
        <p>No doubt; "Gog and Magog are from among the children of Adam (Peace be upon him). In proof of this, comes the Hadith that is transmitted in the two Sahihs (Bukhari and Muslim) from Al-A'mash, after Abu Salih, after Abu Sa' id Al- Khudri who narrated the Prophet (Peace be upon him) to have said: "Allah will say (on the Day of Resurrection), 'O Adam!' Adam will reply, 'Labbaik wa Sa'daik, and all the good is in Your Hand.' Allah will say: 'Bring out the people of the fire.' Adam will say: 'O Allah! How many are the people of the Fire?' Allah will reply: 'From every one thousand, take out nine-hundred and ninety-nine.' At that time children will become hoary headed, every pregnant female will have a miscarriage, and one will see mankind as drunken, yet they will not be drunken, but dreadful will be the Wrath of Allah."</p>
        <br>
        <hr class ="line"><br>
        <h4 id="eschatological-role-gog-magog">Eschatological Role of Gog and Magog</h4><br>
        <p>The Companions of the Prophet (Peace be upon him) asked, "O Allah's Messenger! Who is that (excepted) one?" He said, "Rejoice with glad tidings; one person will be from you and one thousand will be from Gog and Magog." The Prophet (Peace be upon him) further said, "By Him in Whose Hands my life is, hope that you will be one-fourth of the people of Paradise." We shouted, "Allahu Akbar!" He added, "I hope that you will be one-third of the people of Paradise.We shouted, "Allahu Akbar!" He said, "I hope that you will be half of the people of Paradise." We shouted, "Allahu Akbar!" He further said, "You (Muslims) (compared with non Muslims) are like a black hair in the skin of a white ox or like a white hair in the skin of a black ox (i.e. your number is very small as compared with theirs)." (Al-Bukhari and Muslim)</p>
        <br>
        <p>This Hadith denotes the numerousness of their numbers and that they are a hundred-fold the number of all mankind. Moreover, they are from among the offspring of Nuh (Noah (Peace be upon him)) in particular for Allah the Almighty informs us in His Glorious Qur'an that Nuh (Peace be upon him) invoked Him against the people of the earth saying: {And Nuh (Noah) said: "My Lord! Leave not one of the disbelievers on the earth!} (Nuh, 26) And, Allah the Almighty Himself says: {Then We saved him and those with him in the ship}. (Al-'Ankabut, 15) And, {And, his progeny, them We made the survivors}. (As-Saffat, 77) This is in addition to the Hadith transmitted in Imam Ahmed's Musnad and the Sunan of Abu Dawud that mentioned: that there were three sons born to Nuh (Peace be upon him): Shell, Ham and Japheth. Shem was the father of the Arabs; Ham was the father of the Sudan; and Japheth was the father of the Turk.7 Moreover, Gog and Magog are just a part of the Turk from among the Mangols who were stronger and spread mischief in the land. Some people claimed that Gog and Magog were created out of the semen of Adam (Peace be upon him) that mixed with the earth and thus they were not from Eve. But, this claim -which was held by Sheik Abu Zakariya An-Nawawi in his explanation of Sahih Muslim and by other scholars who declared it to be weak and strange -is too weak. As, there is not any proof on this and moreover, it contradicts the obvious text of the Glorious Qur'an -mentioned earlier -that all mankind of today are from the offspring of Nuh (Peace be upon him). In addition, some people claimed that they (Gog and Magog) are of different shapes and figures: some are as tall as palm-trees, some are too short, and some take one of their ears as a bed and the other as a cover or blanket. However, all these claims are groundless and cannot stand the slightest refutation. But, the correct view is that: they are from among the children of Adam (Peace be upon him) and that they bear the same qualities and shapes. Allah's Prophet (Peace be upon him) said: "Allah created Adam, making him 60 cubits tall. When He created him, He said to him, "Go and greet that group of angels, and listen to their reply, for it will be your greeting (salutation) and the greeting (salutations of your offspring. " So, Adam said (to the angels), As- Salamu 'Alaikum (i.e. Peace be upon you). The angels said, "As-Salamu' Alaika wa Rahmatu-l-lahi" (i. e. Peace and Allah's Mercy be upon you). Thus the angels added to Adam's salutation the expression, 'Wa Rahmatu-l-lah.' Any person who will enter Paradise will resemble Adam (in appearance and figure). People have been decreasing in stature since Adam's creation." This Hadith blocks the way before those who falsely claim things that are groundless.</p>
        <br>
        <p>A Very Important Question:</p>
        <br>
        <p>If it is said: How does the previously-mentioned Hadith -that was agreed upon - denote that they will be treated as ransom for the Believers on the Day of Resurrection and that they will enter Hellfire, while no Messengers were sent to them and Allah the Almighty says: {And We never punish until We have sent a Messenger (to give warning)} ? (Al-Isra, 15)</p>
        <br>
        <p>The answer is that: They will never be punished until they are given warning. Thereupon, if they were existing before the time of Prophet Muhammad (Peace be upon him) and Messengers were sent to them, thus, they were given warning. And, if no Messengers were sent to them, they would be treated as "People of the Fitrah" and those to whom the Message of Islam did not reach or be conveyed. However, it is indicated by the Hadith transmitted by some of the Companions of the Prophet (Peace be upon him) that he said: "Those and the like will be tested on the pathways of the Resurrection: and whoever responds to the caller, he will enter Paradise. And, whoever refuses, he will enter the Fire." However, testing them neither necessitates their salvation, nor contradicts with the saying that they will enter Hell-fire. For Allah the Almighty reveals to His Prophet (Peace be upon him) what He wills of the Unseen, and hence, He informed him that they will be from among the people of Hell and that their nature denies the truth and submission thereto, as they do not respond to the caller till the Day of Judgment. This indicates that, they would be more stubborn in rejecting the truth if they were to come to know it in this present life. In the pathways of Resurrection, some of those who used to belie the truth in the present life will submit themselves to the truth. Almighty Allah says: {And if you only could see when the Mujrimun (criminals, disbelievers, polytheists, sinners) shall hang their heads before their Lord (saying): "Our Lord! We have now seen and heard, so send us back (to the world), that we will do righteous good deeds. Verily! We now believe with certainty "}. (As-Sajdah, 12) However, the Prophetic Hadith indicating that the Prophet (Peace be upon him) invited them on the Night Journey to embrace Islam and they refused, this Hadith is an invented and fabricated one. The one who fabricated it was the liar, Amr Ibn As-Subh.</p>
        <br>
        <hr class ="line"><br>
        <h4 id="barrier-condition">The Barrier's Condition</h4><br>
        <p>The (Dam) Barrier:</p>
        <br>
        <p>It was mentioned earlier that Dhul-Qarnain has built it out of iron and copper and elevated it to a very high point that is equal to the very lofty mountains. However, there is no on earth an equal building in terms of loftiness or benefiting to mankind. Imam Al-Bukhari transmitted in his Sahih the following Hadith saying: A man told the Prophet (Peace be upon him) that he had seen the dam (of Gog and Magog). The Prophet (Peace be upon him) asked: How did you find it?' the man said: (I found it like Al-Burd Al-Muhabbar (stripped garments).' The Prophet (Peace be upon him) said: You have seen it like that. '" In Ibn Jarir's exegesis of the Qur'an, a slight different narration was reported by Qatadah who said: ('I was told that a man said: (0 Allah's Messenger! I have seen the dam of Gog and Magog. 'The Prophet (Peace be upon him) said: (describe it to me. The man said: 'It looked like stripped garments, with red and black stripes.' The Prophet (Peace be upon him) said: 'You have seen it. '"</p>
        <br>
        <p>It was mentioned that the Caliph, Al-Wathiq sent some messengers with messages to different kings to allow them travelling from one country to another till they reach the dam and stand on its reality. When they came back to the Caliph, they described it to him saying that it has a huge door with many locks. It is a very high and tight building and that the remnants of its building materials and tools are kept there in a tower. Also, there are still guards keeping an eye on it. They added that its location is on the northern-east side of the earth. It was also said that their land is very spacious and that they live on farming and hunting and that their numbers are countless.</p>
        <br>
        <p>How can we compromise between the Qur'anic Verse that reads: {So they (Ya'juj and Ma'juj (Gog and Magog)) could not scale it or dig through it}. (Al-Kahf, 97) and the Prophetic Hadith that is transmitted by Imam Al- Bukhari and Imam Muslim on the authority of Mother of the Believers, Zainab Bint Jahsh (May Allah be pleased with her) as saying: That the Prophet (Peace be upon him) once came to her in a state of fear and said: ('None has the right to be worshipped but Allah. Woe unto the Arabs from a danger that has come near. An opening has been made in the wall of Gog and Magog like this," making a circle with his thumb and index finger. Zainab Bint lahsh said: ('0 Allah's Messenger! Shall we be destroyed even though there are pious persons among us?" He said: "Yes, when the evil persons will increase." And in another narration: The Prophet (Peace be upon him) said: "Allah has made an opening in the wall of the Gog and Magog (people) like this, and he made with his hand (with the help of his fingers)." (Al-Bukhari and Muslim)</p>
        <br>
        <hr class="line"><br>
        <h4 id="scholarly-interpretations-gog-magog">Scholarly Interpretations and Views</h4><br>
        <p>The answer is that: this means one of two things: the first is that this is an indication of the opening of gates of evil and turmoil and hence, this is a mere example set for us. The second view considers this as narrating a concrete matter for His Statement, {So they (Ya'juj and Ma'juj (Gog and Magog)] could not scale it or dig through it}, i.e. at their time for the sentence is in the past tense, the matter which does not contradict the possibility of its taking place in the future with the Permission of Allah the Almighty. But, as for the other Hadith that is narrated by Imam Ahmed in his Musnad that the Prophet (Peace be upon him) said: "Verily, Gog and Magog dig through the dam every day, till they could see the sun rays (through it), their leader would say: 'Go back and you will finish it tomorrow. ' On the next day, they find it as strong as before. Till when their appointed term comes and Allah desires to send them against mankind, they dig it till they could see the sun rays (through it) and their leader says: 'Go back and you will finish it tomorrow, if Allah wills!' On the next day, they find it as they had left the day before and they dig through it and come against mankind. They will drink (every drop of water they pass by). The people will resort to strongholds. And, Gog and Magog will throw their arrows towards the sky. When they come back to them stained with what looks like blood, they will say: 'we have defeated the people on earth and those in the heaven as well.’ Then, Allah the Almighty sends against them worms in their necks that kill them all. Allah's Messenger (Peace be upon him) said: 'By Whom in Whose Hand Muhammed's soul rests! Living creatures of the earth would go fat and be thankful due to eating their flesh and (drinking their) blood." Imam Ahmed transmitted it also on the authority of Hasan Ibn Musa after Sufyan after Qatadah. At-Tirmidhi transmitted the same Hadith on the authority of Abu, Awanah after Qatadah, then he said: it is a Strange Hadith that reached us from none but this Chain of Transmission.</p>
        <br>
        <h4 id="ref">References:</h4>
          <p>Stories of The Quran, by Ibn Kathir</p>
      </div>
      <script>
        function toggleSidenav() {
          var sidenav = document.getElementById("sidenav");
          if (sidenav.style.display === "block") {
            sidenav.style.display = "none";
          } else {
            sidenav.style.display = "block";
          }
        }
        </script>
        <script>
          $(document).ready(function() {
            var initialTop = $('.sidenav').css('top'); // Store the initial top value
            $(window).scroll(function() {
              var scroll = $(window).scrollTop(); // Get current scroll position
              $('.sidenav').css('top', Math.max(0, parseInt(initialTop) - scroll)); // Adjust top based on scroll
            });
          });
          </script>
          
        <script>
          function on() {
            document.getElementById("overlay").style.display = "block";
          }
          
          function off() {
            document.getElementById("overlay").style.display = "none";
          }
          function toggleBookmark(element, slug) {
            // Check if user is authenticated
            const isAuthenticated = document.body.getAttribute('data-user-authenticated') === 'true';
        
            if (!isAuthenticated) {
                window.location.href = '/account/signin/'; // Redirect to sign-in page
                return;
            }
        
            // Proceed with bookmark toggle for authenticated users
            fetch(`/toggle_bookmark/${slug}/`, {
                method: 'POST',
                headers: {
                    'X-CSRFToken': getCookie('csrftoken'), // Function to get CSRF token
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ 'slug': slug })
            })
            .then(response => response.json())
            .then(data => {
                if (data.bookmarked) {
                    element.classList.remove('fa-regular');
                    element.classList.add('fa-solid');
                } else {
                    element.classList.remove('fa-solid');
                    element.classList.add('fa-regular');
                }
            })
            .catch(error => console.error('Error:', error));
        }
        
        // Function to get CSRF token from cookies
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        document.addEventListener("DOMContentLoaded", function() {
            // Assuming the user is authenticated; adjust as needed
            updateUserBookmarkIcons();
        });
        
        function updateUserBookmarkIcons() {
            fetch('/get_user_bookmarks/', { // Adjusted to the correct path
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                    // Include CSRF token if needed for GET requests or ensure your view is exempt
                },
            })
            .then(response => response.json())
            .then(data => {
                const bookmarkedSlugs = data.bookmarkedSlugs;
                bookmarkedSlugs.forEach(slug => {
                    const bookmarkIcon = document.querySelector(`i[data-slug="${slug}"]`);
                    if (bookmarkIcon) {
                        bookmarkIcon.classList.remove('fa-regular');
                        bookmarkIcon.classList.add('fa-solid');
                    }
                });
            })
            .catch(error => console.error('Error:', error));
        }
        </script>
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        {% endblock content %}